<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Add Equipment</title>
	<meta name="description" content="Contractor Requirement">
    <meta name="author" content="congun">
	
 <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/quote-form-elements-style.css">
        <link rel="stylesheet" href="css/quote-form-style.css">
        <link rel="stylesheet" href="css/home.css">
        <link rel="stylesheet" href="css/addEquip.css">
    <script src="js/jquery.min.js"></script>
	
	<script type="text/javascript">
$(document).ready(function(){
	

	$('body').hide();
	var user = sessionStorage.getItem("user");
	user = $.parseJSON(user);
	console.log(user);
	if(user.role === "supplier"){
	$('body').show();	
	$("#user-name").text(user.firstname+" "+user.lastname);
	}else if(user.role === "contractor"){
		$(location).attr('href','unauthorized.html');
	}
	
	$("#header").load("header.html");
	$("#footer").load("footer.html");
	
	$("#addEquipment").click(function(){
		var success = "successfully created";
		var data = JSON.stringify($("#addEquipment-form").serializeObject());
		console.log(data);
		
		$.ajax({
			url:"supplier/addequipment",
		     type:"post",
		     contentType:"application/json; charset=utf-8",
		     data: data,
		     success:function(data){
		    	console.log(data);
		      }
		});
	});
});
</script>

<script type="text/javascript">
$.fn.serializeObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
};
</script>


</head>
<body>

    <div class="container-fluid">
    	<div class=row>
    	<div class=col-md-12>
    	<div id="header">
    	</div>
    	</div>
    	</div>
    	<div class="row">
    	<div class="main-content col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 form-box">
			<form class="form-horizontal" role="form" id="addEquipment-form" class="f1">
						<h3 class="text-center text-muted">
				ADD EQUIPMENT FORM
			</h3>
					<div class="form-group">
					
				<label for="selectCategory" class="sr-only">
						Equipment Category
					</label>
                 <input type="text" id="equipmentCategory" class="form-control" placeholder="Equipment Category" name="equipmentCategory">	
				 </div>
				<div class="form-group">
				<label for="equipment" class="sr-only">
						Equipment Name
					</label>
                 <input type="text" id="equipment" class="form-control" name="equipment" placeholder="Equipment Name">	
				 </div>
				 
				<div class="form-group">
				<label for="manufacturer" class="sr-only">
						Equipment Manufacturer
					</label>
                 <input type="text" id="manufacturer" class="form-control" name="manufacturer" placeholder="Equipment Manufacturer">	
				 </div>
				 <div class="form-group">
				<label for="yearOfManufacturing" class="sr-only">
						Year Of Manufacturing
					</label>
                 <input type="text" id="yearOfManufacturing" class="form-control" name="yearOfManufacturing" placeholder="Year of manufacturing">	
				 </div>
				 
				 <div class="form-group">
				<label for="model" class="sr-only">
						Model Details
					</label>
                 <input type="text" id="model" class="form-control" name="model" placeholder="Model">	
				 </div>
				 <div class="form-group">
				<label for="capacity" class="sr-only">
						Capacity Details
					</label>
                 <input type="text" id="capacity" class="form-control" name="capacity" placeholder="Capacity">	
				 </div>
				 <div id="hidden-fields">
                                <input type="hidden" name="supplierId" id="supplierId" value="">
                                <input type="hidden" name="supplierName" id="supplierName" value="">
                                </div>
				 <div class="form-group">
				<label for="quantity" class="sr-only">
						Equipment Quantity
					</label>
                 <input type="text" id="quantity" class="form-control" name="quantity" placeholder="Equipment Quantity">	
				 </div>
				
					<div class="f1-buttons">
						 
						<button type="button" class="btn btn-warning" id="addEquipment">
							Submit
						</button>	
					</div>
			</form>
								</div>
					</div>
		<div class=row>
    	<div class=col-md-12>
    	<div id="footer">
    	</div>
    	</div>
    	</div>
					
		</div>
		<script type="text/javascript">
		$(document).ready(function(){
		var user = sessionStorage.getItem("user");
    	user = $.parseJSON(user);
    	$('#supplierId').val(user.userId);
    	$('#supplierName').val(user.firstname+" "+user.lastname);
		});
		</script>
</body>
</html>