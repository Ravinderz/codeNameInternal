<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ConGun</title>
<meta name="description" content="Heavy Machinery Rentals">
<meta name="author" content="Congun">


<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="css/congun.css">
<link rel="stylesheet" href="css/equipment.css">

</head>
<body>
	<div class="nav-wrapper">
		<div class="container">
			<div class="row">
				<div class="col-md-12 navigation">
					<nav class="navbar navbar-defaut navbar-top" role="navigation">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle"
								data-toggle="collapse" data-target="#navbar-collapse">
								<span class="sr-only">Toggle navigation</span> <span
									class="icon-bar"></span> <span class="icon-bar"></span> <span
									class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="#"> <img id="nav-logo"
								src="images\logo.png" height="75px" width="200px" />
							</a>
						</div>
						<div class="collapse navbar-collapse" id="navbar-collapse">
							<ul class="nav navbar-nav navbar-right" id="navigation-right">
								<li class="active"><a href="#"><span>About Us</span></a></li>
								<li><a href="#"><span>Contact</span></a></li>
								<li class="dropdown"><a href="#" class="dropdown-toggle"
									data-toggle="dropdown"><span>Services<strong
											class="caret"></strong></span></a>
									<ul class="dropdown-menu">
										<li><a href="#"><span>Rentals</span></a></li>
										<li><a href="#"><span>Sales</span></a></li>
										<li><a href="#"><span>Machinary Services</span></a></li>
										<li class="divider"></li>
										<li><a href="#"><span>Get a Quote</span></a></li>
										<li class="divider"></li>
										<li><a href="#"><span>Misc</span></a></li>
									</ul></li>
								<li><a id="modal-login" href="#modal-container-login"
									role="button" data-toggle="modal"><span>Login</span></a></li>
								<li><a id="modal-register" href="#modal-container-register"
									role="button" data-toggle="modal"><span>Register</span></a></li>
							</ul>
						</div>
					</nav>
					<!-- ********************* This is for the login model *********************************** -->
					<div class="modal fade" id="modal-container-login" role="dialog"
						aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content login-modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true">×</button>
									<h4 class="modal-title" id="myModalLabel">Login</h4>
								</div>
								<div class="modal-body">
									<div class="form-box">
										<form class="form-horizontal login-form" id="login-form"
											role="form" name="login-form">
											<div class="form-group">
												<label for="username" class="col-sm-2 control-label sr-only">
													Email </label>
												<div class="col-sm-12">
													<input type="text" name="username" placeholder="username"
														class="form-control" id="username" >
												</div>
											</div>
											<div class="form-group">
												<label for="password" class="col-sm-2 control-label sr-only">
													Password </label>
												<div class="col-sm-12">
													<input type="password" class="form-control" name="password"
														placeholder="password" id="password" >
												</div>
											</div>

											<div class="col-sm-4">
												<div class="checkbox">
													<label> <input type="checkbox"> Remember me
													</label>
												</div>
											</div>

											<div class="login-btn">
												<button type="button" id="login-btn" class="btn btn-next modal-btn">Login</button>
											</div>
											<div class="reg-link float-right">
												<a href="#" id="re-link">Register</a>
											</div>
											<div class="clear-fix"></div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal fade" id="modal-success-dialog" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true">×</button>
									<h4 class="modal-title" id="myModalLabel">Success</h4>
								</div>
								<div class="modal-body">
									<div class="alert alert-success" role="alert">Registration successful ...</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- ************************************* This is for the login model *************************************  -->
				<!-- ********************* This is for the register model *********************************** -->
				<div class="modal fade" id="modal-container-register" role="dialog"
					aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content register-modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-hidden="true">×</button>
								<h4 class="modal-title" id="myModalLabel">Register</h4>
							</div>
							<div class="modal-body">
								
									<form class="form-horizontal" role="form" id="register-form">
										<div class="form-group radio">
											<label class="radio-inline"> <input type="radio"
												id="role" name="role" value="supplier">Supplier
											</label> <label class="radio-inline"> <input type="radio"
												id="role" name="role" value="contractor">Contractor
											</label>
										</div>
										<div class="form-group">
											<label for="firstname" class="sr-only"> FirstName </label>
											<div class="col-sm-12">
												<input type="text" class="form-control" name="firstname"
													placeholder="Firstname" id="firstName">
											</div>
										</div>
										<div class="form-group">
											<label for="lastname" class="sr-only"> LastName </label>
											<div class="col-sm-12">
												<input type="text" class="form-control" name="lastname"
													placeholder="Lastname" id="lastName">
											</div>
										</div>
										<div class="form-group">
											<label for="username" class="sr-only"> Email </label>
											<div class="col-sm-12">
												<input type="text" class="form-control" id="register-username"
													placeholder="email" name="username">
											</div>
										</div>
										<div class="form-group">
											<label for="password" class="sr-only"> Password </label>
											<div class="col-sm-12">
												<input type="password" class="form-control" id="register-password"
													placeholder="password" name="password">
											</div>
										</div>
										<div class="form-group">
											<label for="mobile" class="sr-only"> Mobile </label>
											<div class="col-sm-12">
												<input type="text" class="form-control" id="mobile"
													placeholder="mobile" name="mobileNumber">
											</div>
										</div>
										<div class="form-group">
											<label for="location" class="sr-only">
												Location/City </label>
											<div class="col-sm-12">
												<input type="text" class="form-control"
													placeholder="Location/City" id="location"
													name="location">
											</div>
										</div>
										
										<div class="form-group">
											<div class="f1-buttons">
												<button type="button" id="register" class="btn btn-next modal-btn">Register</button>
											</div>
										</div>
										<div class="clear-fix"></div>
									</form>
								
							</div>
						</div>
					</div>
				</div>
				<!-- register modal ends -->
			</div>
		</div>
	</div>
	<div class="category">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>
						List Of <span class="heading">Equipments</span>
					</h2>
				</div>
			</div>
			<div class="category-row-one"></div>
			<div class="category-row-two"></div>
		</div>
	</div>
	<div class="sub-footer">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-4">
					<p class="first">
						<img src="images/logo_new.png" /><br>CONGUN provides one
						stop online- solution for all construction equipment needs of
						construction Contractors, at their desired location, in specified
						time and at a low price.
					</p>
				</div>
				<div class="col-md-4">
					<div class="middle">
						<h3>Quick Links</h3>
						<ul>
							<li><span class="fa fa-angle-right"></span><a href="#">FAQ</a></li>
							<li><span class="fa fa-angle-right"></span><a href="#">About
									Us</a></li>
							<li><span class="fa fa-angle-right"></span><a href="#">Services</a></li>
							<li><span class="fa fa-angle-right"></span><a href="#">Contact
									Us</a></li>
							<li><span class="fa fa-angle-right"></span><a href="#">Support</a></li>
						</ul>
					</div>
				</div>
				<div class="col-md-4">

					<div class="address-content last">
						<h3>Address</h3>
						<ul class="info">
							<li><span class="fa fa-map-marker"></span> &ensp; 3rd floor
								T hub Gachibowli,IIIT Campus, Hyderabad, Telangana 500032</li>
							<li><span class="fa fa-phone"></span> &ensp; +91-9989933636</li>
							<li><span class="fa fa-envelope"></span> &ensp; <a
								href="mailto:info@congun.com">info@congun.com</a></li>
						</ul>
						<div class="social">
							<a class="img-circle fa fa-facebook-f" href="#"></a> <a
								class="img-circle fa fa-twitter" href="#"></a> <a
								class="img-circle fa fa-google-plus" href="#"></a> <a
								class="img-circle fa fa-linkedin" href="#"></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="footer">
		<div class="row">
			<div class="col-md-12">
				<div class="collapse navbar-collapse" id="navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Copyright Congun</a></li>
						<li><a href="#">Terms and Conditions</a></li>
						<li><a href="#">Privacy Policy</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li><a href="#"><i class="fa fa-facebook"></i></a></li>
						<li><a href="#"><i class="fa fa-twitter"></i></a></li>
						<li><a href="#"><i class="fa fa-instagram"></i></a></li>
						<li><a href="#"><i class="fa fa-google-plus"></i></a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/appProperties.js"></script>
<script type="text/javascript">
	$(document).ready(function() {

		/* to get parameters from a url */
		var getUrlParameter = function getUrlParameter(sParam) {
		var sPageURL = decodeURIComponent(window.location.search.substring(1)), sURLVariables = sPageURL.split('&'), sParameterName, i;

			for (i = 0; i < sURLVariables.length; i++) {
			sParameterName = sURLVariables[i].split('=');

			if (sParameterName[0] === sParam) {
			return sParameterName[1] === undefined ? true : sParameterName[1];
			}
			}
			};					

		var category = getUrlParameter('category');
					
						/* var user = sessionStorage.getItem("user");
						user = $.parseJSON(user);
						console.log(user);
						if (user !== null) {
							console.log("inside if");
							$(location).attr('href',"user/equipment.html?category="+category);
						} else {
							console.log("nothing to do");
							
						} */
					
						
						$('#modal-container-login').on('hidden.bs.modal', function(){
							console.log("clearing the fields");
						    $(this).find('form')[0].reset();
						});
						
						$('#modal-container-register').on('hidden.bs.modal', function(){
						    $(this).find('form')[0].reset();
						});
						
						$('#re-link').click(function(e){
							$('#modal-container-login').modal('hide');
							$('#modal-container-register').modal('show');
						});
						
						$("#register").click(
								function() {
								var success = "successfully created";
								var successUrl = "#modal-container-login";
								var data = JSON.stringify($("#register-form").serializeObject());
								console.log(data);

							
								$.ajax({
								url : AppData.relativeUrl+"user/register",
								type : "post",
								contentType : "application/json; charset=utf-8",
								data : data,
								success : function(data) {
								if (data.search("UF01") != -1) {
								} else {
								console.log("inside if");
								$('#modal-container-register').modal('hide');
								console.log("register modal closed");
								console.log("opening login modal");
								$('#modal-container-login').modal('show');
								$(location).attr('href',"user/equipment.html?category="+category);
								}
								}
								});
								});

								$("#login-btn").click(function() {
								console.log("inside login function");

								var data = JSON.stringify($("#login-form").serializeObject());

								$.ajax({
								url : AppData.relativeUrl+"user/login",
								type : "post",
								contentType : "application/json; charset=utf-8",
								data : data,
																/* datatype : "json",  */
								success : function(response) {
								console.log(response);
								response = $.parseJSON(response);
								console.log("got user from userAPI",response.username);
								$('#modal-container-login').modal('hide');
								if (typeof (Storage) !== "undefined") {
								sessionStorage.setItem("user",JSON.stringify(response));
								} else {
								console.log(" no storage available");
								}
								if (response.role === "supplier") {
								var user = sessionStorage.getItem("user");
								user = $.parseJSON(user);
								console.log(user);
								if (user !== null) {
								$(location).attr('href',"user/equipment.html?category="+category);
								}
								} else if (response.role === "contractor") {
									var user = sessionStorage.getItem("user");
									user = $.parseJSON(user);
									console.log(user);
									if (user !== null) {
									$(location).attr('href',"user/equipment.html?category="+category);
									}																//$(location).attr('href',"index.html");
								}
								}

								});
								});
			
								$('.logout').click(function() {
									console.log("inside logout function")
									var user = sessionStorage.getItem("user");
									if (user !== null) {
										sessionStorage.removeItem("user");
									}
									console.log("user logged out");
									$(location).attr('href', "index.html");
								});
		

						
						var equipment = '';
						var EarthMoving = [ 'backhoe', 'dozer', 'excavator',
								'miniexcavator', 'loader', 'motorgrader',
								'skidsteer' ];
						var Cranes = [ 'crawlercrane', 'mobilecrane',
								'towercrane' ];
						var Generators = [ 'mobilegenerator',
								'portablegenerator' ];
						var AerialLifts = [ 'articulatingboomlift',
								'scissorlift', 'straighttelescoping' ];
						var PowerDrillers = [ 'anglegrinder', 'breakhammer',
								'metalcutter', 'stonedriller',
								'surfacegrinder', 'horizontaldriller' ];
						var CementMixerTrucks = [ 'cementmixer', 'trailerpump',
								'truckmountedconcretepump' ];
						var RoadRollers = [ 'doubledrumroller1', 'hotmixer',
								'sensorpaver1', 'singledrum' ];
						var MaterialHandling = [ 'industriallift',
								'reachforklift', 'telehandlerfork' ];
						var Miscellaneous = [ 'airtools', 'compressor',
								'tractor', 'waterpump' ];
						var BoreDrillers = [ 'boredriller', 'piledriving' ];

						/*if(category === 'earthMovingEquipment'){
							equipment = earthMovingEquipment;
						}
						else 
						if(category === 'cranes'){
						equipment = cranes;
						}*/
						switch (category) {
						case 'EarthMoving':
							equipment = EarthMoving;
							break;
						case 'Cranes':
							equipment = Cranes;
							break;
						case 'Generators':
							equipment = Generators;
							break;
						case 'AerialLifts':
							equipment = AerialLifts;
							break;
						case 'PowerDrillers':
							equipment = PowerDrillers;
							break;
						case 'CementMixerTrucks':
							equipment = CementMixerTrucks;
							break;
						case 'RoadRollers':
							equipment = RoadRollers;
							break;
						case 'MaterialHandling':
							equipment = MaterialHandling;
							break;
						case 'Miscellaneous':
							equipment = Miscellaneous;
							break;
						case 'BoreDrillers':
							equipment = BoreDrillers;
							break;

						}
						//category = $.parseJSON(earthMovingEquipment);
						console.log("category", category);
						console.log("equipment", equipment);
						var count = 1;
						var html = "";
						$
								.each(
										equipment,
										function(index, value) {
											var imagePath = 'images/'
													+ category + '/' + value
													+ '.png';
											console.log(imagePath);
											var firstDiv = "<div class='row'>";
											var firstDivClose = "</div>";
											if (count === 1) {
												html += firstDiv;
											}
											var col = "<div class='col-md-3 col-sm-12'>"
													+ "<img src='"+imagePath+"' class='category-img' id='"+value+"' height='170px' width='200px'/><button class='btn img-btn'>"
													+ value + "</button></div>";
											html += col;
											if (equipment.length <= 4) {
												if (count === equipment.length) {
													html += firstDivClose;
													count = 0;
												}
											} else {
												if (count === 4) {
													html += firstDivClose;
													count = 0;
												}
											}
											count++;
										});
						console.log(html);

						$(".category-row-one").append(html);

						$('.category-img').click(
								function() {
									var sub_ctg = this.id;
									$(location).attr('href',"requirement-display.html?category="
													+ category
													+ "&sub-category="
													+ sub_ctg);
								});

					});
</script>
<script type="text/javascript">
	$.fn.serializeObject = function() {
		var o = {};
		var a = this.serializeArray();
		$.each(a, function() {
			if (o[this.name] !== undefined) {
				if (!o[this.name].push) {
					o[this.name] = [ o[this.name] ];
				}
				o[this.name].push(this.value || '');
			} else {
				o[this.name] = this.value || '';
			}
		});
		return o;
	};
</script>	
</body>
</html>