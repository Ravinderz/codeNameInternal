<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Congun</title>
    <!-- CSS -->
   <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/congun.css">
		<link rel="stylesheet" href="css/form-elements-style.css">
		<link rel="stylesheet" href="css/quote-form-style.css">
		<link rel="stylesheet" href="css/magic-check.css">
		<link rel="stylesheet" href="css/profile.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
<body>
    <!-- Top content -->
	<div class="header">
		<div class="container">
			<div class="row">
				<div class="col-md-12 navigation">
					<nav class="navbar navbar-defaut navbar-top" role="navigation">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle"
								data-toggle="collapse" data-target="#navbar-collapse">
								<span class="sr-only">Toggle navigation</span> <span
									class="icon-bar"></span> <span class="icon-bar"></span> <span
									class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="#"> <img id="nav-logo"
								src="images/logo_new.png" height="75px" width="200px" />
							</a>
						</div>
						<div class="collapse navbar-collapse" id="navbar-collapse">
							<ul class="nav navbar-nav navbar-right" id="navigation-right">
								<li class="active"><a href="index.html"><span>Home</span></a></li>
								<li><a href="userprofile.html" role="button"><span
										id="user">User</span></a></li>
								<li><a href="#" role="button" class="logout"><span>Logout</span></a></li>
							</ul>
						</div>
					</nav>
				</div>
			</div>
		</div>
	</div>

	<div class="content-main">
		<div class="container-fluid">
		   <div class="row sub-nav-bar">
				<div class="col-md-12">
					<ul class="sub-menu">
						<li><a href="#">Dashboard</a></li>
						<li><a class="active" href="#">Profile</a></li>
						<li><a href="#">Used machines</a></li>
						<li><a href="#">Feedback</a></li>
					</ul>
				</div>
		   </div>
		  </div>
    <div class="top-content">
        <div class="container">
            
            <div class="row">
				<div class="col-md-6">
					<div class="left-container">
						<h1><strong>Congun</strong></h1>
						<div class="description">
							<p> We provide the best rentals of heavy machinary in the city. Get in touch to find out more about how we work, we promise you will not find these many options anywhere else! </p>
						</div>
					</div>
				</div>
                <div class="col-md-6 form-box">
                    <form role="form" action="" method="post" class="f1" id="supplier-quote-form">
                        <h3>Quote Form</h3>
                        <p>Give your quote for the requirement</p>
                        <div class="f1-steps">
                            <div class="f1-progress">
                                <div class="f1-progress-line" data-now-value="16.66" data-number-of-steps="3" style="width: 16.66%;"></div>
                            </div>
                            <div class="f1-step active">
                                <div class="f1-step-icon"><i class="fa fa-cogs"></i></div>
                                <p>Machinary Details</p>
                            </div>
                            <div class="f1-step">
                                <div class="f1-step-icon"><i class="fa fa-calendar"></i></div>
                                <p>Time Period</p>
                            </div>
                            <div class="f1-step">
                                <div class="f1-step-icon"><i class="fa fa-puzzle-piece"></i></div>
                                <p>Misc</p>
                            </div>
                        </div>
                        <fieldset>
                            <h4>Tell us about your machinary..</h4>
                            <div class="form-group">
                                <label for="equipmentCategory">Category</label>
                                <select id="category" class="f1-category form-control" name="equipmentCategory">
				                </select>
                            </div>
                            <div class="form-group">
                                <label for="equipmentName">Equipment</label>
                                <select id="equipment" name="equipmentName" class="f1-equipment form-control">
                                    
				                </select>
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="capacity">Capacity</label>
                                <input type="text" name="capacity" placeholder="Capacity" class="f1-capacity form-control" id="f1-about-yourself"> </div>
                            <div class="form-group">
                                <label class="sr-only" for="model">Model</label>
                                <input type="text" name="model" placeholder="Model" class="f1-model form-control" id="f1-f1-model"> </div>
                            <div class="form-group maker">
                                <!--<label for="manufacturer">Manufacturer</label>--><br>
                                <input type="checkbox" class="manufacturer" name="manufacturer" id="JCB" value="JCB" checked /><label for="JCB"> JCB <span class="uncheck">&#10006;</span></label>
  					 <input type="checkbox" name="manufacturer" id="Bharat" value="Bharat" checked /><label for="Bharat">Bharat Earth Movers <span class="uncheck">&#10006;</span></label>
					 <input type="checkbox"  name="manufacturer" id="TRF" value="TRF" checked /><label for="TRF">TRF <span class="uncheck">&#10006;</span></label>
					 <input type="checkbox"  name="manufacturer" id="Cat" value="Cat" checked /><label for="Cat">Caterpillar <span class="uncheck">&#10006;</span></label>
					 <input type="checkbox"  name="manufacturer" id="Komatsu" value="Komatsu " checked /><label for="Komatsu">Komatsu <span class="uncheck">&#10006;</span></label>
					 <input type="checkbox"  name="manufacturer" id="Volvo" value="Volvo " checked /><label for="Volvo">Volvo <span class="uncheck">&#10006;</span></label>
					 <input type="checkbox"  name="manufacturer" id="Hitachi" value="Hitachi " checked /><label for="Hitachi">Hitachi <span class="uncheck">&#10006;</span></label>
						
                             </div>
                        <div class="form-group">
                                <label  for="manufacturedyear">Manufactured Year</label>
                                <input type="text" name="manufacturedyear" placeholder="Duration" class="f1-email form-control" id="f1-email"> </div>
                            
                            <div class="f1-buttons">
                                <button type="button" class="btn btn-next">Next</button>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="form-group">
                                <label class="sr-only" for="quantity">Quantity</label>
                                <input type="text" name="quantity" placeholder="Quantity" class="f1-email form-control" id="f1-email"> </div>
                            
                            <div class="form-group">
                                <label class="sr-only" for="MachineRentalCharges">Machine Rental Charges</label>
                                <input type="text" name="MachineRentalCharges" placeholder="Machine Rental Charges" class="f1-email form-control" id="f1-email"> </div>
                            
                            <div class="form-group">
                                <label class="sr-only" for="maintenanceCharges">Maintainance Charges</label>
                                <input type="text" name="maintenanceCharges" placeholder="Maintainance Charges" class="f1-email form-control" id="f1-email"> </div>
                            
                                <div class="f1-buttons">
                                <button type="button" class="btn btn-previous">Previous</button>
                                <button type="button" class="btn btn-next">Next</button>
                            </div>
                        </fieldset>
                        <fieldset>
                            <h4>Misc</h4>
                            <div class="form-group">
							
                                    <h5> Transportation provided</h5><br>
									<div class="radio-transportation">
									<ul>
                                    <li><input type="radio" name="transportation" class="magic-radio" value="to" id="transportation-to"><label for="transportation-to"><span class="radio-span">One Way</span></label></li>
                                    <li><input type="radio" name="transportation" class="magic-radio" value="tofro" id="transportation-to&fro"><label for="transportation-to&fro"><span class="radio-span">Both ways </span></label></li></ul></div>
									</div>
                                <div class="form-group">
								
                                    <h5> Driver Available </h5><br>
									<div class="radio-driver">
									<ul>
                                    <li><input type="radio" name="driverAvailable" value="true" class="magic-radio" id="driverNeeded-yes"><label for="driverNeeded-yes"><span class="radio-span">Yes</span></label></li>
                                    <li><input type="radio" name="driverAvailable" value="false" class="magic-radio" id="driverNeeded-no" checked><label for="driverNeeded-no"><span class="radio-span"> No </span></label></li></ul></div></div>
                            <div class="form-group">
							
                                    <h5> Helper Available</h5><br>
									<div class="radio-helper">
									<ul>
                                    <li><input type="radio" name="helperAvailable" value="true" class="magic-radio" id="helperNeeded-yes"><label for="helperNeeded-yes"><span class="radio-span"> Yes</span></label></li>
                                    <li><input type="radio" name="helperAvailable" value="false" class="magic-radio" id="helperNeeded-no" checked><label for="helperNeeded-no"><span class="radio-span"> No</span></label></li></ul></div></div>
                            
                            <div class="form-group">
							
                                    <label for="hiringChargersType"><h5>Hiring Charges Type</h5></label><br>
									<div class="radio-hiring">
									<ul>
                                    <li><input type="radio" name="hiringChargersType" value="hour" class="magic-radio" id="hiringChargersType-hourly"><label for="hiringChargersType-hourly"><span class="radio-span">Hourly</span></label></li>
                                    <li><input type="radio" name="hiringChargersType" value="day" class="magic-radio" id="hiringChargersType-daily"><label for="hiringChargersType-daily"><span class="radio-span"> Daily</span></label></li>
                                    <br>
                                    <li><input type="radio" name="hiringChargersType" value="week" class="magic-radio" id="hiringChargersType-weekly"><label for="hiringChargersType-weekly"><span class="radio-span"> Weekly</span></label></li>
                                    <li><input type="radio" name="hiringChargersType" value="month" class="magic-radio" id="hiringChargersType-monthly"><label for="hiringChargersType-monthly"><span class="radio-span"> Monthly</span></label>
									</li></ul></div></div>
                            
                            
                            <div class="form-group">
                                <label class="sr-only" for="queries">Queries</label>
                                <input type="text" name="queries" placeholder="Queries" class="f1-email form-control" id="f1-email"> </div>
                            
                            <div id="hidden-fields">
                                <input type="hidden" name="quotePostedById" id="supplierId" value="">
                                <input type="hidden" name="quotePostedByName" id="supplierName" value="">
                                <input type="hidden" name="requirementId" id="requirementId" value="">
                                <input type="hidden" name="quoteStatus" id="quoteStatus" value="open">
                                </div>
                            
                            <!-- <div class="form-group">
                                <label class="sr-only" for="queries">Final Quote</label>
                                <input type="text" name="finalquote" placeholder="Queries" class="f1-email form-control" id="f1-email"> </div>
                             -->
                            
                            <div class="f1-buttons">
                                <button type="button" class="btn btn-previous">Previous</button>
                                <button type="button"  id="btn-submit" class="btn btn-next">Submit</button>
                            </div>
                        </fieldset>
                        <div class="modal fade" id="modal-success-dialog" role="dialog"
						aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true">×</button>
									<h4 class="modal-title" id="myModalLabel">Success</h4>
								</div>
								<div class="modal-body">
									<div class="alert alert-success" role="alert">Requirement posted successfully ...</div>
								</div>
							</div>
						</div>
					</div>
                    </form>
                </div>
            </div>
        </div>
    </div>
	<div class="sub-footer">
    <div class="container-fluid">
 			<div class="row">
 				<div class="col-md-4"><p class="first"><img src="images/logo_new.png" /><br>CONGUN provides one stop online- solution for all construction equipment needs of construction Contractors, at their desired location, in specified time and at a low price.</p></div>
                <div class="col-md-4"><div class="middle"><h3>Quick Links</h3><ul><li><span class="fa fa-angle-right"></span><a href="#">FAQ</a></li>
                    <li><span class="fa fa-angle-right"></span><a href="#">About Us</a></li>
                    <li><span class="fa fa-angle-right"></span><a href="#">Services</a></li>
                    <li><span class="fa fa-angle-right"></span><a href="#">Contact Us</a></li>
                    <li><span class="fa fa-angle-right"></span><a href="#">Support</a></li>
                    </ul></div></div>
                <div class="col-md-4">

                    <div class="address-content last">
                        <h3> Address</h3>
                        <ul class="info">
                            <li><span class="fa fa-map-marker"></span> &ensp; 3rd floor T hub Gachibowli,IIIT Campus, Hyderabad, Telangana 500032</li>
                                <li><span class="fa fa-phone"></span> &ensp; +91-9989933636</li>
                                <li><span class="fa fa-envelope"></span> &ensp; <a href="mailto:info@congun.com">info@congun.com</a></li>
                        </ul>
                        <div class="social">
                            <a class="img-circle fa fa-facebook-f" href="#"></a>
                            <a class="img-circle fa fa-twitter" href="#"></a>
                            <a class="img-circle fa fa-google-plus" href="#"></a>
                            <a class="img-circle fa fa-linkedin" href="#"></a>
                        </div>
                    </div>
                </div>
 			</div>
 		</div>
    </div>
 		<div class="footer">
 			<div class="row">
 				<div class="col-md-12">
 					<div class="collapse navbar-collapse" id="navbar-collapse">
						<ul class="nav navbar-nav">
							<li class="active"><a href="#">Copyright Congun</a></li>
							<li><a href="#">Terms and Conditions</a></li>
							<li><a href="#">Privacy Policy</a></li>
						</ul>
						<ul class="nav navbar-nav navbar-right">
							<li><a href="#"><i class="fa fa-facebook"></i></a></li>
							<li><a href="#"><i class="fa fa-twitter"></i></a></li>
							<li><a href="#"><i class="fa fa-instagram"></i></a></li>
							<li><a href="#"><i class="fa fa-google-plus"></i></a></li>
						</ul>
					</div>
 				</div>
 			</div>
 		</div>
    <!-- Javascript -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/requirement-scripts.js"></script>
    <script src="js/appProperties.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
    	
    	
    	/* to get parameters from a url */
    	var getUrlParameter = function getUrlParameter(sParam) {
    	    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
    	        sURLVariables = sPageURL.split('&'),
    	        sParameterName,
    	        i;

    	    for (i = 0; i < sURLVariables.length; i++) {
    	        sParameterName = sURLVariables[i].split('=');

    	        if (sParameterName[0] === sParam) {
    	            return sParameterName[1] === undefined ? true : sParameterName[1];
    	        }
    	    }
    	};
    	
    	var reqid = getUrlParameter('reqId');
    	var categoryParam = getUrlParameter('category');
    	var equipment = getUrlParameter('equipment');
    	console.log('reqid',reqid);
    	var user = sessionStorage.getItem("user");
		console.log(user);
		user = $.parseJSON(user);
		var username = user.firstname+" "+user.lastname;
			$('#user').text(username);
			$('#user-name').text(username);
		
    	$('#supplierId').val(user.userId);
    	$('#supplierName').val(user.firstname+" "+user.lastname);
		$('#requirementId').val(reqid);
		
		
    	
/* This ajax call is made to populate the category and equipment machinary dropdowns */
    	
    	var category = []
    	$.ajax({
    		url :AppData.relativeUrl+"contractor/getDistinctCategory",
    		type:"get",
    		data:{},
    		success:function(response){
    			response = $.parseJSON(response);
    			var i = 0;
    			console.log(response);
    			$.each(response,function(index,value){
    				$("#category").append($("<option />").val(value).text(value));
    					category[i] = value;
    					i++
    			});
    			console.log("cat",categoryParam);
    			if(categoryParam !== undefined){
    			$("#category").val(categoryParam);
    			}
    			if(equipment !== undefined ){
    				$.ajax({
    					
    					url : AppData.relativeUrl+"contractor/getEquipmentByCategory/"+categoryParam,
    	    			type:"get",
    	    			data:{},
    	    			success:function(equipments){
    	    				equipments = $.parseJSON(equipments);
    	    				console.log(equipments);
    	    				$.each(equipments,function(index,value){
    	    				$("#equipment").append($("<option />").val(value).text(value));
    	    				
    	    				});
    	    				if(equipment !== undefined){
    	    				$("#equipment").val(equipment);
    	    				}
    	    			}
    	    			});
    			}else{
    			$.ajax({
    			url : AppData.relativeUrl+"contractor/getEquipmentByCategory/"+category[0],
    			type:"get",
    			data:{},
    			success:function(equipments){
    				equipments = $.parseJSON(equipments);
    				console.log(equipments);
    				$.each(equipments,function(index,value){
    				$("#equipment").append($("<option />").val(value).text(value));
    				
    				});
    			}
    			});
    			}
    		}
    	});
    	
    	/* This function will be called when there is change in the category dropdown */
    	
    $("#category").on('change',function(){
    		var selectedOption = $("#category option:selected").text();
    		console.log("selected option ",selectedOption);
    		var url = AppData.relativeUrl+"contractor/getEquipmentByCategory/"+selectedOption; 
    		console.log("url ",url);
    		$.ajax({
    			url:url,
    			type:"get",
    			data:{},
    			success:function(equipments){
    				equipments = $.parseJSON(equipments);
    				console.log("equipments ",equipments);
    				$("#equipment").html("");
    				$.each(equipments,function(index,value){
    				$("#equipment").append($("<option />").val(value).text(value));
    				});	
    			}
    				
    		});
    	}); 
    	
    	
       
/* This action will be called when a contractor will submit the form  */
    	
        $("#btn-submit").click(function(){
		var success = "successfully created";
		var data = JSON.stringify($("#supplier-quote-form").serializeObject());
		console.log(data);
            
            $.ajax({
			url:AppData.relativeUrl+"supplier/submitquote",
		     type:"post",
		     contentType:"application/json; charset=utf-8",
		     data: data,
		     success:function(data){
		    	 console.log(data);
		    	 if(data === "SS01"){
		    		 console.log("inside if");
		    		 $('#modal-success-dialog').modal('show').delay(50000);
		    		 $('#modal-success-dialog').on('shown.bs.modal', function() {
		    			 $(location).attr('href',AppData.relativeUrl+"user/supplier-dashboard.html");
		    			 //history.back();	    
		    			});
		    	 }
		      }

                });
    });
	
	$(".uncheck").click(function(){
		var $label = $(this).parent("label");
		var $input = $label.prev();
		console.log($label.html())
		console.log($input.val());
		if($input.checked){
			console.log("inside if ");
		$input.prop('checked',false);
		}else{
			console.log("inside else");
		}
		$label.fadeOut('slow');
	});
	
	

    });    
    </script>    
<script type="text/javascript">
$.fn.serializeObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
};
</script>

    
    
    
    
    <!--[if lt IE 10]>
            <script src="assets/js/placeholder.js"></script>
        <![endif]-->
</body>

</html>